trigger:
- main

pool:
  name: Default       # your Mac agent pool name
  demands:
    - agent.os -equals Darwin   # ensure only Mac agents run this

steps:
# Install Node.js
- task: NodeTool@0
  inputs:
    versionSpec: '20.x'
  displayName: 'Install Node.js'

# Install npm dependencies (ignoring peer conflicts)
- script: |
    npm install --legacy-peer-deps
    npm run build
  displayName: 'Install npm packages and build React app'